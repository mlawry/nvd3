<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link href="../build/nv.d3.css" rel="stylesheet" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.14/d3.min.js" charset="utf-8"></script>
    <script src="../build/nv.d3.js"></script>

    <style>
        text {
            font: 12px sans-serif;
        }
        svg {
            display: block;
        }
        html, body, #chart1, svg {
            margin: 0px;
            padding: 0px;
            height: 100%;
            width: 100%;
        }
    </style>
</head>
<body class='with-3d-shadow with-transitions'>

<div id="chart1" >
    <svg> </svg>
</div>

<script>

    var testdata = [{}, {}, {}];
   
    //Data
    var testdata = [{"key":"Area series","values":[{"label":0,"value":7860.168556547618,"color":"#FFC000","x":0,"y":7860.168556547618},{"label":1,"value":15447.141555013983,"color":"#FFC000","x":1,"y":15447.141555013983},{"label":2,"value":23352.00472313991,"color":"#FFC000","x":2,"y":23352.00472313991},{"label":3,"value":31603.895812841347,"color":"#FFC000","x":3,"y":31603.895812841347},{"label":4,"value":40218.04954428884,"color":"#FFC000","x":4,"y":40218.04954428884},{"label":5,"value":49841.56803255461,"color":"#FFC000","x":5,"y":49841.56803255461},{"label":6,"value":59256.365791630844,"color":"#FFC000","x":6,"y":59256.365791630844},{"label":7,"value":69084.47844672701,"color":"#FFC000","x":7,"y":69084.47844672701},{"label":8,"value":79344.05075332738,"color":"#FFC000","x":8,"y":79344.05075332738},{"label":9,"value":90054.02403184705,"color":"#FFC000","x":9,"y":90054.02403184705},{"label":10,"value":101405.21067780555,"color":"#FFC000","x":10,"y":101405.21067780555},{"label":11,"value":113083.68123620303,"color":"#FFC000","x":11,"y":113083.68123620303},{"label":12,"value":125274.84319467473,"color":"#FFC000","x":12,"y":125274.84319467473},{"label":13,"value":138001.2039929059,"color":"#FFC000","x":13,"y":138001.2039929059},{"label":14,"value":151489.02810544413,"color":"#FFC000","x":14,"y":151489.02810544413},{"label":15,"value":165366.206307076,"color":"#FFC000","x":15,"y":165366.206307076},{"label":16,"value":179852.60040608904,"color":"#FFC000","x":16,"y":179852.60040608904},{"label":17,"value":195742.57240339622,"color":"#FFC000","x":17,"y":195742.57240339622},{"label":18,"value":211571.1441844731,"color":"#FFC000","x":18,"y":211571.1441844731},{"label":19,"value":228085.96094142305,"color":"#FFC000","x":19,"y":228085.96094142305},{"label":20,"value":245325.7874060014,"color":"#FFC000","x":20,"y":245325.7874060014},{"label":21,"value":263696.5791473212,"color":"#FFC000","x":21,"y":263696.5791473212},{"label":22,"value":282499.73170106456,"color":"#FFC000","x":22,"y":282499.73170106456},{"label":23,"value":302128.3531858963,"color":"#FFC000","x":23,"y":302128.3531858963},{"label":24,"value":323189.89207112323,"color":"#FFC000","x":24,"y":323189.89207112323},{"label":25,"value":344604.8343918086,"color":"#FFC000","x":25,"y":344604.8343918086},{"label":26,"value":366959.9046775387,"color":"#FFC000","x":26,"y":366959.9046775387},{"label":27,"value":390914.47201172344,"color":"#FFC000","x":27,"y":390914.47201172344},{"label":28,"value":415302.5613327423,"color":"#FFC000","x":28,"y":415302.5613327423},{"label":29,"value":434473.26647049806,"color":"#FFC000","x":29,"y":434473.26647049806}],"color":"#FFC000","type":"area","yAxis":2},{"key":"Stacked bar 1","values":[{"label":0,"value":7750,"color":"#4472C4","x":0,"y":7750},{"label":1,"value":7014.7058823529405,"color":"#4472C4","x":1,"y":7014.7058823529405},{"label":2,"value":7000,"color":"#4472C4","x":2,"y":7000},{"label":3,"value":7000.000000000002,"color":"#4472C4","x":3,"y":7000.000000000002},{"label":4,"value":7000,"color":"#4472C4","x":4,"y":7000},{"label":5,"value":7611.395905484034,"color":"#4472C4","x":5,"y":7611.395905484034},{"label":6,"value":7000,"color":"#4472C4","x":6,"y":7000},{"label":7,"value":6999.999999999999,"color":"#4472C4","x":7,"y":6999.999999999999},{"label":8,"value":6999.999999999999,"color":"#4472C4","x":8,"y":6999.999999999999},{"label":9,"value":7000,"color":"#4472C4","x":9,"y":7000},{"label":10,"value":7165.673494381979,"color":"#4472C4","x":10,"y":7165.673494381979},{"label":11,"value":7000,"color":"#4472C4","x":11,"y":7000},{"label":12,"value":7000.000000000001,"color":"#4472C4","x":12,"y":7000.000000000001},{"label":13,"value":7000.000000000001,"color":"#4472C4","x":13,"y":7000.000000000001},{"label":14,"value":7196.407448679105,"color":"#4472C4","x":14,"y":7196.407448679105},{"label":15,"value":7000.000000000001,"color":"#4472C4","x":15,"y":7000.000000000001},{"label":16,"value":7000.000000000001,"color":"#4472C4","x":16,"y":7000.000000000001},{"label":17,"value":7743.534529409114,"color":"#4472C4","x":17,"y":7743.534529409114},{"label":18,"value":7008.367185695205,"color":"#4472C4","x":18,"y":7008.367185695205},{"label":19,"value":7000.000000000001,"color":"#4472C4","x":19,"y":7000.000000000001},{"label":20,"value":7000,"color":"#4472C4","x":20,"y":7000},{"label":21,"value":7362.389693459051,"color":"#4472C4","x":21,"y":7362.389693459051},{"label":22,"value":7000,"color":"#4472C4","x":22,"y":7000},{"label":23,"value":7000,"color":"#4472C4","x":23,"y":7000},{"label":24,"value":7553.289276330672,"color":"#4472C4","x":24,"y":7553.289276330672},{"label":25,"value":7000.000000000001,"color":"#4472C4","x":25,"y":7000.000000000001},{"label":26,"value":7000.000000000001,"color":"#4472C4","x":26,"y":7000.000000000001},{"label":27,"value":7598.705301977871,"color":"#4472C4","x":27,"y":7598.705301977871},{"label":28,"value":7000.000000000001,"color":"#4472C4","x":28,"y":7000.000000000001},{"label":29,"value":5697.222222222221,"color":"#4472C4","x":29,"y":5697.222222222221}],"color":"#4472C4","type":"bar","yAxis":1},{"key":"Stacked bar 2","values":[{"label":0,"value":2250,"color":"#A5A5A5","x":0,"y":2250},{"label":1,"value":2985.2941176470586,"color":"#A5A5A5","x":1,"y":2985.2941176470586},{"label":2,"value":2999.9999999999995,"color":"#A5A5A5","x":2,"y":2999.9999999999995},{"label":3,"value":3000.0000000000005,"color":"#A5A5A5","x":3,"y":3000.0000000000005},{"label":4,"value":2999.9999999999995,"color":"#A5A5A5","x":4,"y":2999.9999999999995},{"label":5,"value":2388.6040945159657,"color":"#A5A5A5","x":5,"y":2388.6040945159657},{"label":6,"value":3000,"color":"#A5A5A5","x":6,"y":3000},{"label":7,"value":2999.9999999999995,"color":"#A5A5A5","x":7,"y":2999.9999999999995},{"label":8,"value":3000,"color":"#A5A5A5","x":8,"y":3000},{"label":9,"value":3000,"color":"#A5A5A5","x":9,"y":3000},{"label":10,"value":2834.3265056180207,"color":"#A5A5A5","x":10,"y":2834.3265056180207},{"label":11,"value":3000,"color":"#A5A5A5","x":11,"y":3000},{"label":12,"value":2999.9999999999995,"color":"#A5A5A5","x":12,"y":2999.9999999999995},{"label":13,"value":3000,"color":"#A5A5A5","x":13,"y":3000},{"label":14,"value":2803.592551320894,"color":"#A5A5A5","x":14,"y":2803.592551320894},{"label":15,"value":3000,"color":"#A5A5A5","x":15,"y":3000},{"label":16,"value":2999.9999999999995,"color":"#A5A5A5","x":16,"y":2999.9999999999995},{"label":17,"value":2256.465470590886,"color":"#A5A5A5","x":17,"y":2256.465470590886},{"label":18,"value":2991.6328143047945,"color":"#A5A5A5","x":18,"y":2991.6328143047945},{"label":19,"value":2999.9999999999995,"color":"#A5A5A5","x":19,"y":2999.9999999999995},{"label":20,"value":3000,"color":"#A5A5A5","x":20,"y":3000},{"label":21,"value":2637.610306540948,"color":"#A5A5A5","x":21,"y":2637.610306540948},{"label":22,"value":3000,"color":"#A5A5A5","x":22,"y":3000},{"label":23,"value":2999.9999999999995,"color":"#A5A5A5","x":23,"y":2999.9999999999995},{"label":24,"value":2446.71072366933,"color":"#A5A5A5","x":24,"y":2446.71072366933},{"label":25,"value":2999.9999999999995,"color":"#A5A5A5","x":25,"y":2999.9999999999995},{"label":26,"value":3000,"color":"#A5A5A5","x":26,"y":3000},{"label":27,"value":2401.294698022128,"color":"#A5A5A5","x":27,"y":2401.294698022128},{"label":28,"value":3000.0000000000005,"color":"#A5A5A5","x":28,"y":3000.0000000000005},{"label":29,"value":2441.6666666666665,"color":"#A5A5A5","x":29,"y":2441.6666666666665}],"color":"#A5A5A5","type":"bar","yAxis":1}];
    
    nv.addGraph(function() {
        var chart = nv.models.multiChart()
            .margin({top: 30, right: 90, bottom: 50, left: 90})
            .interpolate("linear")
            //.useInteractiveGuideline(false)
            ;
            
        chart.bars1.stacked(true);
        
        chart.xAxis.tickFormat(d3.format('f'));
        chart.yAxis1.tickFormat(d3.format('$,.0f'));
        chart.yAxis2.tickFormat(d3.format('$,.0f'));

        d3.select('#chart1 svg')
            .datum(testdata)
            .transition().duration(500).call(chart);

        return chart;
    });

</script>
</body>
</html>
