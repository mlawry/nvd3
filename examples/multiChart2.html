<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link href="../build/nv.d3.css" rel="stylesheet" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.14/d3.min.js" charset="utf-8"></script>
    <script src="../build/nv.d3.js"></script>

    <style>
        text {
            font: 12px sans-serif;
        }
        svg {
            display: block;
        }
        html, body, #chart1, svg {
            margin: 0px;
            padding: 0px;
            height: 100%;
            width: 100%;
        }
    </style>
</head>
<body class='with-3d-shadow with-transitions'>

<div id="chart1" >
    <svg> </svg>
</div>

<script>

    var testdata = [{}, {}, {}, {}];
    
    function mapdata(v, i) {
        var obj = { x: (27 + i) , y: new Number(v) };
        return obj;
    }
    
    //Data
    var md0 = "260500	283441	335858.522	391818.8799	451502.4719	515097.5295	582800.3992	654815.8298	717646.6714	783553.2635	852609.3403	924884.5852	1000443.807	1079346.03	1148045.359	1218525.256	1290664.184	1364316.555	1494810.385	1633214.641	1779934.452	1935394.15	2100038.138	2274331.807	2458762.482	2653840.417	2860099.833	3078099.998	3308426.36	3551691.723	3808537.485	4079634.92	4365686.524	4667427.413	4985626.791	5321089.476	5674657.494	6047211.747	6439673.748	6853007.435	7216561.947	7597657.594	7997099.26	8415727.676	8854420.994	9314096.414	9795711.894	10300267.93	10828809.4	11382427.52	11962261.84	12569502.37	13205391.78	13871227.65	14568364.9	15298218.3	16062264.99	16862047.3	17699175.48	18575330.7	19492268.14	20451820.16	21455899.67	22506503.61";
    var md1 = "82207.5	91292.5825	100987.7792	111328.6092	122352.5351	134099.0663	146609.867	159928.8711	174102.4014	189179.2965	205211.0435	222251.9176	240359.1296	259592.9803	280017.0235	301698.2369	324707.2026	349118.2962	375009.8863	402464.5443	431569.2644	462415.6961	495100.3878	529725.0435	566396.7927	605228.4743	646338.9351	689853.3435	735903.5205	784628.2862	836173.8255	890694.0723	948351.113	1009315.612	1073767.259	1141895.235	1213898.714	1289987.376	1370381.953	1372332.979	1371992.91	1369152.035	1363585.894	1355054.327	1343300.464	1328049.656	1309008.334	1285862.804	1258277.961	1225895.93	1188334.615	1145186.169	1096015.36	1040357.844	977718.3236	907568.6023	829345.513	742448.7222	646238.3983	540032.7376	423105.3383	294682.4142	153939.8372	-5.46046E-09";
    var md2 = "12500	42673	44187.1	45746.623	47352.93169	49007.42964	50711.56253	52466.81941	54274.73399	56136.88601	58054.90259	60030.45967	62065.28346	64161.15196	66319.89652	68543.40341	70833.61552	73192.53398	75622.22	78124.7966	80702.4505	83357.43401	86092.06703	88908.73905	91809.91122	94798.11855	97875.97211	101046.1613	104311.4561	107674.7098	111138.8611	114706.9369	118382.055	122167.4267	126066.3595	130082.2603	134218.6381	138479.1072	142867.3904	75728.19929	78000.04527	80340.04663	82750.24803	85232.75547	87789.73814	90423.43028	93136.13319	95930.21718	98808.1237	101772.3674	104825.5384	107970.3046	111209.4137	114545.6961	117982.067	121521.529	125167.1749	128922.1901	132789.8559	136773.5515	140876.7581	145103.0608	149456.1526	153939.8372";
    var md3 = "500	2160	2332.8	2519.424	2720.97792	2938.656154	3173.748646	17138.24269	18509.3021	19990.04627	21589.24997	23316.38997	25181.70117	40794.35589	44057.90436	47582.53671	51389.13965	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0	0";
    var da0 = md0.split("\t").map(mapdata);
    var da1 = md1.split("\t").map(mapdata);
    var da2 = md2.split("\t").map(mapdata);
    var da3 = md3.split("\t").map(mapdata);
    

    testdata[0].key = "Investment assets";
    testdata[0].values = da0;
    testdata[0].type = "area";
    testdata[0].yAxis = 1;
    testdata[1].key = "Superannuation";
    testdata[1].values = da1;
    testdata[1].type = "area";
    testdata[1].yAxis = 1;
    testdata[2].key = "Income";
    testdata[2].values = da2;
    testdata[2].type = "bar";
    testdata[2].yAxis = 2;
    testdata[3].key = "Expenses";
    testdata[3].values = da3;
    testdata[3].type = "bar";
    testdata[3].yAxis = 2;

    nv.addGraph(function() {
        var chart = nv.models.multiChart()
            .margin({top: 30, right: 90, bottom: 50, left: 90})
            //.interpolate("linear")
            //.useInteractiveGuideline(false)
            ;

        chart.xAxis.tickFormat(d3.format('f'));
        chart.yAxis1.tickFormat(d3.format('$,.0f'));
        chart.yAxis2.tickFormat(d3.format('$,.0f'));

        d3.select('#chart1 svg')
            .datum(testdata)
            .transition().duration(500).call(chart);

        return chart;
    });

</script>
</body>
</html>
